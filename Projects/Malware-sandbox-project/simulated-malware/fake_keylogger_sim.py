"""
fake_keylogger_sim.py

This script simulates "keylogging-like" behaviour in a SAFE way by writing
synthetic keystrokes to a local file in a loop. It does NOT capture real
keyboard input and does NOT send any data over the network.

Events generated:
- Process creation events (Sysmon EID 1)
- File write events (Sysmon EID 11)
"""

import time
from datetime import datetime

LOG_PATH = r"C:\Sandbox\logs\fake_keylog.txt"


def main():
    print(f"[+] Fake keylogger simulation started. Writing to: {LOG_PATH}")
    count = 0
    while count < 100:  # limit so it doesn't run forever
        timestamp = datetime.utcnow().isoformat()
        # Synthetic "keys" â€“ not real user input
        fake_keys = "USER_TYPED: HELLO_WORLD"
        line = f"{timestamp} :: {fake_keys}\n"
        try:
            with open(LOG_PATH, "a", encoding="utf-8") as f:
                f.write(line)
        except Exception as e:
            print(f"[!] Error writing log: {e}")
            break

        time.sleep(1)
        count += 1

    print("[+] Fake keylogger simulation finished.")


if __name__ == "__main__":
    main()

